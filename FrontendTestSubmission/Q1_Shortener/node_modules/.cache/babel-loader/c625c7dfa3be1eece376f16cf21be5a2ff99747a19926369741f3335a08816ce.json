{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Downloads\\\\AffordMedCampusHiring\\\\FrontendTestSubmission\\\\Q1_Shortener\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { TextField, Button, Typography, Box } from \"@mui/material\";\nimport { Log } from \"../../../LoggingMiddleware/log\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = \"QAhDUr\"; // Replace with your real token\n\nfunction App() {\n  _s();\n  const [urls, setUrls] = useState([{\n    url: \"\",\n    validity: \"\",\n    shortcode: \"\"\n  }]);\n  const [results, setResults] = useState([]);\n  const handleChange = (index, field, value) => {\n    const updated = [...urls];\n    updated[index][field] = value;\n    setUrls(updated);\n  };\n  const addInput = () => {\n    if (urls.length < 5) setUrls([...urls, {\n      url: \"\",\n      validity: \"\",\n      shortcode: \"\"\n    }]);\n  };\n  const validateUrl = url => /^(https?):\\/\\/.+/.test(url);\n  const handleShorten = async () => {\n    const filtered = urls.filter(u => u.url.trim() !== \"\");\n    for (let i = 0; i < filtered.length; i++) {\n      const {\n        url,\n        validity,\n        shortcode\n      } = filtered[i];\n      if (!validateUrl(url)) {\n        alert(`Invalid URL: ${url}`);\n        return;\n      }\n      const payload = {\n        originalUrl: url,\n        validity: validity ? parseInt(validity) : 30,\n        customCode: shortcode.trim() || null\n      };\n      try {\n        await Log(\"frontend\", \"info\", \"component\", `Shortening URL: ${url}`, token);\n        const shortCode = shortcode || Math.random().toString(36).substring(2, 7);\n        const expiry = new Date(Date.now() + (payload.validity || 30) * 60000);\n        setResults(prev => [...prev, {\n          short: `http://localhost:3000/${shortCode}`,\n          expiry: expiry.toLocaleString(),\n          original: url\n        }]);\n      } catch (err) {\n        alert(\"Failed to shorten URL\");\n        Log(\"frontend\", \"error\", \"component\", err.message, token);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"URL Shortener\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), urls.map((u, idx) => /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Original URL\",\n        value: u.url,\n        onChange: e => handleChange(idx, \"url\", e.target.value),\n        sx: {\n          mb: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Validity (min)\",\n        type: \"number\",\n        value: u.validity,\n        onChange: e => handleChange(idx, \"validity\", e.target.value),\n        sx: {\n          mr: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Custom Shortcode\",\n        value: u.shortcode,\n        onChange: e => handleChange(idx, \"shortcode\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: addInput,\n      children: \"+ Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      sx: {\n        ml: 2\n      },\n      onClick: handleShorten,\n      children: \"Shorten\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), results.map((res, i) => /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Original:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 23\n        }, this), \" \", res.original]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Short:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 23\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: res.short,\n          children: res.short\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Expires:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 23\n        }, this), \" \", res.expiry]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"y19kiQ80YJ1ltRijVVPaELvXbLE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","TextField","Button","Typography","Box","Log","jsxDEV","_jsxDEV","token","App","_s","urls","setUrls","url","validity","shortcode","results","setResults","handleChange","index","field","value","updated","addInput","length","validateUrl","test","handleShorten","filtered","filter","u","trim","i","alert","payload","originalUrl","parseInt","customCode","shortCode","Math","random","toString","substring","expiry","Date","now","prev","short","toLocaleString","original","err","message","sx","p","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","map","idx","mb","fullWidth","label","onChange","e","target","type","mr","onClick","ml","res","mt","href","_c","$RefreshReg$"],"sources":["C:/Users/ACER/Downloads/AffordMedCampusHiring/FrontendTestSubmission/Q1_Shortener/src/App.jsx"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport { TextField, Button, Typography, Box } from \"@mui/material\";\nimport { Log } from \"../../../LoggingMiddleware/log\";\n\nconst token = \"QAhDUr\"; // Replace with your real token\n\nfunction App() {\n  const [urls, setUrls] = useState([\n    { url: \"\", validity: \"\", shortcode: \"\" },\n  ]);\n  const [results, setResults] = useState([]);\n\n  const handleChange = (index, field, value) => {\n    const updated = [...urls];\n    updated[index][field] = value;\n    setUrls(updated);\n  };\n\n  const addInput = () => {\n    if (urls.length < 5) setUrls([...urls, { url: \"\", validity: \"\", shortcode: \"\" }]);\n  };\n\n  const validateUrl = (url) => /^(https?):\\/\\/.+/.test(url);\n\n  const handleShorten = async () => {\n    const filtered = urls.filter((u) => u.url.trim() !== \"\");\n\n    for (let i = 0; i < filtered.length; i++) {\n      const { url, validity, shortcode } = filtered[i];\n      if (!validateUrl(url)) {\n        alert(`Invalid URL: ${url}`);\n        return;\n      }\n      const payload = {\n        originalUrl: url,\n        validity: validity ? parseInt(validity) : 30,\n        customCode: shortcode.trim() || null,\n      };\n\n      try {\n        await Log(\"frontend\", \"info\", \"component\", `Shortening URL: ${url}`, token);\n        const shortCode = shortcode || Math.random().toString(36).substring(2, 7);\n        const expiry = new Date(Date.now() + (payload.validity || 30) * 60000);\n        setResults((prev) => [\n          ...prev,\n          {\n            short: `http://localhost:3000/${shortCode}`,\n            expiry: expiry.toLocaleString(),\n            original: url\n          },\n        ]);\n      } catch (err) {\n        alert(\"Failed to shorten URL\");\n        Log(\"frontend\", \"error\", \"component\", err.message, token);\n      }\n    }\n  };\n\n  return (\n    <Box sx={{ p: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>URL Shortener</Typography>\n      {urls.map((u, idx) => (\n        <Box key={idx} sx={{ mb: 2 }}>\n          <TextField\n            fullWidth\n            label=\"Original URL\"\n            value={u.url}\n            onChange={(e) => handleChange(idx, \"url\", e.target.value)}\n            sx={{ mb: 1 }}\n          />\n          <TextField\n            label=\"Validity (min)\"\n            type=\"number\"\n            value={u.validity}\n            onChange={(e) => handleChange(idx, \"validity\", e.target.value)}\n            sx={{ mr: 2 }}\n          />\n          <TextField\n            label=\"Custom Shortcode\"\n            value={u.shortcode}\n            onChange={(e) => handleChange(idx, \"shortcode\", e.target.value)}\n          />\n        </Box>\n      ))}\n      <Button variant=\"contained\" onClick={addInput}>+ Add</Button>\n      <Button variant=\"contained\" sx={{ ml: 2 }} onClick={handleShorten}>Shorten</Button>\n\n      {results.map((res, i) => (\n        <Box key={i} sx={{ mt: 2 }}>\n          <Typography><strong>Original:</strong> {res.original}</Typography>\n          <Typography><strong>Short:</strong> <a href={res.short}>{res.short}</a></Typography>\n          <Typography><strong>Expires:</strong> {res.expiry}</Typography>\n        </Box>\n      ))}\n    </Box>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}